{"version":3,"sources":["webpack:///./template/showCountryData.hbs","webpack:///./js/fetchCountries.js","webpack:///./index.js"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","escapeExpression","lambda","name","propertyIsEnumerable","stack1","helper","alias2","nullContext","alias3","hooks","helperMissing","alias4","alias5","call","capital","population","each","languages","program","noop","flag","fetchCountries","searchQuery","fetch","then","res","json","input","document","querySelector","suggestionList","countryInfo","addEventListener","_","debounce","e","preventDefault","PNotify","removeAll","innerHTML","target","value","length","markup","templateCountryData","forEach","country","li","createElement","appendChild","showSuggestions","error"],"mappings":"gFAAA,IAAIA,EAAa,EAAQ,QAEzBC,EAAOC,SAAWF,EAAoB,SAAKA,GAAYG,SAAS,CAAC,EAAI,SAASC,EAAUC,EAAOC,EAAQC,EAASC,GAC5G,MAAO,6BACLJ,EAAUK,iBAAiBL,EAAUM,OAAkB,MAAVL,EAAiBA,EAAOM,KAAON,EAASA,IACrF,qCACJ,SAAW,CAAC,EAAE,YAAY,KAAO,SAASD,EAAUC,EAAOC,EAAQC,EAASC,GAC/CJ,EAAUQ,qBAArC,IAAIC,EAAQC,EAA+CC,EAAiB,MAAVV,EAAiBA,EAAUD,EAAUY,aAAe,GAAKC,EAAOb,EAAUc,MAAMC,cAAeC,EAAO,WAAYC,EAAOjB,EAAUK,iBAEvM,MAAO,4BACHY,SAASP,EAA+E,OAArEA,EAASR,EAAQK,OAAmB,MAAVN,EAAiBA,EAAOM,KAAON,IAAmBS,EAASG,KAA2BG,EAASN,EAAOQ,KAAKP,EAAO,CAAC,KAAO,OAAO,KAAO,GAAG,KAAOP,IAASM,GACxM,uMACAO,SAASP,EAAqF,OAA3EA,EAASR,EAAQiB,UAAsB,MAAVlB,EAAiBA,EAAOkB,QAAUlB,IAAmBS,EAASG,KAA2BG,EAASN,EAAOQ,KAAKP,EAAO,CAAC,KAAO,UAAU,KAAO,GAAG,KAAOP,IAASM,GACjN,+JACAO,SAASP,EAA2F,OAAjFA,EAASR,EAAQkB,aAAyB,MAAVnB,EAAiBA,EAAOmB,WAAanB,IAAmBS,EAASG,KAA2BG,EAASN,EAAOQ,KAAKP,EAAO,CAAC,KAAO,aAAa,KAAO,GAAG,KAAOP,IAASM,GAC1N,6MACwL,OAAtLD,EAASP,EAAQmB,KAAKH,KAAKP,EAAkB,MAAVV,EAAiBA,EAAOqB,UAAYrB,EAAQ,CAAC,KAAO,OAAO,KAAO,GAAG,GAAKD,EAAUuB,QAAQ,EAAGnB,EAAM,GAAG,QAAUJ,EAAUwB,KAAK,KAAOpB,KAAkBK,EAAS,IACxM,yJACAQ,SAASP,EAA+E,OAArEA,EAASR,EAAQuB,OAAmB,MAAVxB,EAAiBA,EAAOwB,KAAOxB,IAAmBS,EAASG,KAA2BG,EAASN,EAAOQ,KAAKP,EAAO,CAAC,KAAO,OAAO,KAAO,GAAG,KAAOP,IAASM,GACxM,UACAO,SAASP,EAA+E,OAArEA,EAASR,EAAQK,OAAmB,MAAVN,EAAiBA,EAAOM,KAAON,IAAmBS,EAASG,KAA2BG,EAASN,EAAOQ,KAAKP,EAAO,CAAC,KAAO,OAAO,KAAO,GAAG,KAAOP,IAASM,GACxM,kBACJ,SAAU,K,0ICpBG,GACbgB,eADa,SACEC,GAEb,OAAOC,MALC,yCAIS,IAAID,IACQE,MAAK,SAAAC,GAAG,OAAIA,EAAIC,Y,6CCE3CC,EAAQC,SAASC,cAAc,UAC/BC,EAAiBF,SAASC,cAAc,gBACxCE,EAAcH,SAASC,cAAc,mBAE3CF,EAAMK,iBAAiB,QAASC,EAAEC,UAElC,SAA0BC,GACxBA,EAAEC,iBACFC,IAAQC,YA8BRR,EAAeS,UAAY,GAC3BR,EAAYQ,UAAY,GA7BxB,IAAMjB,EAAca,EAAEK,OAAOC,MACzBnB,EAAYoB,QAAU,GACxBrB,EAAeA,eAAeC,GAAaE,MAAK,SAAAzB,GAC9C,GAAoB,IAAhBA,EAAK2C,OAAc,CACrB,IAAMC,EAASC,IAAoB7C,EAAK,IACxCgC,EAAYQ,UAAYI,OACf5C,EAAK2C,QAAU,GAWhC,SAAyB3C,GACvBA,EAAK8C,SAEL,SAA8BC,GAC5B,IAAMC,EAAKnB,SAASoB,cAAc,MAClClB,EAAemB,YAAYF,GAC3BA,EAAGR,UAAYO,EAAQ5C,QAhBnBgD,CAAgBnD,GAEhBsC,IAAQc,MACN,mEAhBmD,Q","file":"main.7bc03c04621039733e43.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \"<li class=\\\"language-item\\\">\"\n    + container.escapeExpression(container.lambda((depth0 != null ? depth0.name : depth0), depth0))\n    + \"\\r\\n                        </li>\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=container.propertyIsEnumerable, alias2=depth0 != null ? depth0 : (container.nullContext || {}), alias3=container.hooks.helperMissing, alias4=\"function\", alias5=container.escapeExpression;\n\n  return \"<h2 class=\\\"country-name\\\">\"\n    + alias5(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"name\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</h2>\\r\\n<div class=\\\"country-info\\\">\\r\\n    <table>\\r\\n        <tbody>\\r\\n            <tr class=\\\"row\\\">\\r\\n                <td class=\\\"name\\\"><b>Capital:</b></td>\\r\\n                <td class=\\\"value\\\">\"\n    + alias5(((helper = (helper = helpers.capital || (depth0 != null ? depth0.capital : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"capital\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</td>\\r\\n            </tr>\\r\\n            <tr class=\\\"row\\\">\\r\\n                <td class=\\\"name\\\"><b>Population:</b></td>\\r\\n                <td class=\\\"value\\\">\"\n    + alias5(((helper = (helper = helpers.population || (depth0 != null ? depth0.population : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"population\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</td>\\r\\n            </tr>\\r\\n            <tr class=\\\"row\\\">\\r\\n                <td class=\\\"name\\\"><b>Languages:</b></td>\\r\\n                <td class=\\\"value\\\">\\r\\n                    <ul class=\\\"languages\\\">\"\n    + ((stack1 = helpers.each.call(alias2,(depth0 != null ? depth0.languages : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\r\\n                    </ul>\\r\\n                </td>\\r\\n            </tr>\\r\\n        </tbody>\\r\\n    </table>\\r\\n    <img class=\\\"country-flag\\\" src=\\\"\"\n    + alias5(((helper = (helper = helpers.flag || (depth0 != null ? depth0.flag : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"flag\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\" alt=\\\"\"\n    + alias5(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"name\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\" />\\r\\n</div>\";\n},\"useData\":true});","const api = 'https://restcountries.eu/rest/v2/name';\r\n\r\nexport default {\r\n  fetchCountries(searchQuery) {\r\n    const baseName = `/${searchQuery}`;\r\n    return fetch(api + baseName).then(res => res.json());\r\n  },\r\n};","import './styles.css';\nimport '../node_modules/pnotify/src/PNotifyBrightTheme.css';\nimport fetchCountries from './js/fetchCountries';\nimport PNotify from '../node_modules/pnotify/dist/es/PNotify';\nimport debounce from '../node_modules/lodash';\nimport templateCountryData from './template/showCountryData.hbs';\n\nconst input = document.querySelector('#query');\nconst suggestionList = document.querySelector('#suggestions');\nconst countryInfo = document.querySelector('#info-container');\n\ninput.addEventListener('input', _.debounce(countriesHandler, 500));\n\nfunction countriesHandler(e) {\n  e.preventDefault();\n  PNotify.removeAll();\n  cleanDisplay();\n  const searchQuery = e.target.value;\n  if (searchQuery.length >= 1) {\n    fetchCountries.fetchCountries(searchQuery).then(data => {\n      if (data.length === 1) {\n        const markup = templateCountryData(data[0]);\n        countryInfo.innerHTML = markup;\n      } else if (data.length <= 10) {\n        showSuggestions(data);\n      } else {\n        PNotify.error(\n          'Too many matches found. Please enter a more specific query',\n        );\n      }\n    });\n  }\n}\n\nfunction showSuggestions(data) {\n  data.forEach(createSuggestionList);\n\n  function createSuggestionList(country) {\n    const li = document.createElement('li');\n    suggestionList.appendChild(li);\n    li.innerHTML = country.name;\n  }\n}\n\nfunction cleanDisplay() {\n  suggestionList.innerHTML = '';\n  countryInfo.innerHTML = '';\n}\n"],"sourceRoot":""}